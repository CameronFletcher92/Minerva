/*
* Kendo UI Beta v2014.2.625 (http://www.telerik.com/kendo-ui)
* Copyright 2014 Telerik AD. All rights reserved.
*
* Kendo UI Beta license terms available at
* http://www.telerik.com/purchase/license-agreement/kendo-ui-beta.aspx
*/

!function(e,define){define(["./kendo.dom.min"],e)}(function(){return function(e,t){function n(e){var n="string"==typeof e?{name:e,expand:!1}:e,i="[object Array]"===ot.call(n)?n:n!==t?[n]:[];return lt(i,function(e){return"string"==typeof e?{name:e,expand:!1}:{name:e.name,expand:e.expand}})}function i(e,t,n){var r,a,o,s;for(s=0;t.length>s;s++)r=t[s].members[n],a=r.name,o=r.parentName||"",r.children.length>0?(e[a]=!0,i(e,r.children,n)):o in e||(e[a]=!1)}function r(e){var t,n,r,a,o={};if(e.length)for(t=e[0].members||[],n=0;t.length>n;n++)t[n].measure||i(o,e,n);r=[];for(a in o)r.push({name:a,expand:o[a]});return r}function a(e,t){var n,i,r,a,o=t.tuples||[],s=o[0];if(s&&s.members.length>e.length)for(n=s.members,i=0;n.length>i;i++)if(!n[i].measure){for(r=!1,a=0;e.length>a;a++)if(0===e[a].name.indexOf(n[i].hierarchy)){r=!0;break}r||e.push(n[i])}}function o(e){var t,n=[],i=e.members;for(t=0;i.length>t;t++)i[t].measure||n.push({name:i[t].name,expand:i[t].children.length>0});return n}function s(e,t,i){var r,s;return e=e||{},a(t,e),i.length>1&&t.push({name:"Measures",measure:!0,children:n(i)}),r={members:t},e.tuples&&(s=v(e.tuples,r),s.tuple&&(t=o(s.tuple))),t}function l(e,n,i){return e.tuples.length<p(n.tuples,i)?n:t}function d(e,t,n,i,r){var a,o,s,l=e.length,d=p(t,i),c=i.length||1;for(o=0;n>o;o++)for(a=0;l>a;a++)s=u(e[a],t)*c,s+=a%c,r[o*l+a].ordinal=o*d+s}function c(e,t,n,i,r){var a,o,s,l=e.length,d=(p(t,i),i.length||1);for(o=0;l>o;o++)for(s=u(e[o],t),s*=d,s+=o%d,a=0;n>a;a++)r[o*n+a].ordinal=s*n+a}function u(e,t){return v(t,e).index}function p(e,t){var n,i,r;if(!e.length)return 0;for(n=e.slice(),i=n.shift(),r=1;i;)i.members?[].push.apply(n,i.members):i.children&&(i.measure||(r+=i.children.length),[].push.apply(n,i.children)),i=n.shift();return t.length&&(r*=t.length),r}function h(e){return e||(e={tuples:[]}),e.tuples||(e.tuples=[]),e}function f(e,t,n){var i,r,a;if(!e)return 0;for(i=Math.max(n.length,1),r=e.members.slice(0,t),a=r.shift();a;)a.children?[].push.apply(r,a.children):(i++,[].push.apply(r,a.members)),a=r.shift();return i}function m(e,t,n){var i,r,a,o,s,l;if(!t[0])return{parsedRoot:null,tuples:e,memberIndex:0,index:0};if(i=v(e,t[0]),!i.tuple)return{parsedRoot:null,tuples:t,memberIndex:0,index:0};if(r=i.tuple.members,a=t[0].members,o=-1,r.length!==a.length)return{parsedRoot:null,tuples:t,memberIndex:0,index:0};for(s=0,l=r.length;l>s;s++)!r[s].measure&&a[s].children[0]&&(-1==o&&a[s].children.length&&(o=s),r[s].children=a[s].children);return n=Math.max(n.length,1),{parsedRoot:i.tuple,index:i.index*n,memberIndex:o,tuples:e}}function g(e,t){var n,i,r=!0;for(e=e.members,t=t.members,n=0,i=e.length;i>n;n++)e[n].measure||t[n].measure||(r=r&&e[n].name===t[n].name);return r}function v(e,t){var n,i,r,a,o,s,l,d=0;for(n=0,i=e.length;i>n;n++){if(r=e[n],g(r,t))return{tuple:r,index:d};for(d++,o=0,s=r.members.length;s>o;o++)if(l=r.members[o],!l.measure&&(a=v(l.children,t),d+=a.index,a.tuple))return{tuple:a.tuple,index:d}}return{index:d}}function _(e,t){var n,i,r,a="";for(i=0,r=e.length;r>i;i++)n=e[i],a+=n.name,t[a]||(t[a]=n)}function k(e,t){var n,i,r,a,o=e.members,s="",l="";for(n=0,i=o.length;i>n;n++){if(r=o[n],a){if(t[s+r.name]){s+=r.name,a=t[s];continue}return t[s+r.parentName]?t[s+r.parentName]:(r.parentName&&(l+=r.parentName),t[l])}if(s+=r.name,a=t[r.parentName],!a&&(a=t[s],!a))return null;a&&(l+=a.name)}return a}function b(e,t){var n,i,r,a;if(0===t.length)return-1;for(n=t[0],i=e.members,r=0,a=i.length;a>r;r++)if(i[r].name==n)return r}function w(n,i){if(!(0>i)){var r={name:"Measures",measure:!0,children:[e.extend({members:[],dataIndex:n.dataIndex},n.members[i])]};n.members.splice(i,1,r),n.dataIndex=t}}function y(e,t){var n,i,r,a,o,s;if(1>e.length)return[];for(n=[],i={},r=b(e[0],t),a=0;e.length>a;a++)o=e[a],o.dataIndex=a,w(o,r),s=k(o,i),s?s.children.push(0>r||!s.measure?o:o.members[r].children[0]):n.push(o),_(o.members,i);return n}function x(e,t){var n,i,r,a,o,s,l,d;if(!e||!e.length)return t;for(n=[],i=T(e),r=i.length,a=Math.max(t.length/r,1),o=0;r>o;o++)for(l=a*o,d=a*i[o],s=0;a>s;s++)n[l+s]=t[d+s];return n}function C(e,t){var n,i,r,a,o,s,l;if(!e||!e.length)return t;for(n=[],i=T(e),r=i.length,a=Math.max(t.length/r,1),s=0;a>s;s++)for(l=r*s,o=0;r>o;o++)n[l+o]=t[i[o]+l];return n}function T(e){var n,i,r,a,o,s,l;for(e=e.slice(),n=[],i=e.shift();i;){for(i.dataIndex!==t&&n.push(i.dataIndex),o=0,r=0,a=i.members.length;a>r;r++)l=i.members[r],s=l.children,l.measure?[].splice.apply(e,[0,0].concat(s)):[].splice.apply(e,[o,0].concat(s)),o+=s.length;i=e.shift()}return n}function S(e,t){var n,i=[];for(n=0;e.length>n;n++)i.push(t(e[n]));return i}function D(e){var t=e.split(".");return t.length>2?t[0]+"."+t[1]:e}function F(e){var t,n,i,r=e.slice(0);for(t=0;e.length>t;t++)for(n=D(e[t].name),i=t+1;r.length>i;)0===r[i].name.indexOf(n)?r.splice(i,1):i++;return r}function E(e,t){var n,i,r,a=[];for(n=0;e.length>n;n++)i=e[n].name,r=D(t),(t==i||0!==i.indexOf(r))&&a.push(e[n]);return a}function H(e){var t,n,i,r,a,o,s,l={};for(t=0;e.length>t;t++)for(n=e[t].name,i=D(n),r=0;e.length>r;r++)a=e[r].name,0===a.indexOf(i)&&a!==n&&(l[n]=e[t]);o=[];for(s in l)o.push(l[s]);return o}function z(e,t){return S(e,function(e){var n,i=e.name,r=!1;for(n=0;t.length>n;n++)if(i===t[n]){r=!0;break}return e.expand&&r&&(i+=".Children"),i})}function I(e){return S(e,function(e){var t=e.name;return e.expand&&(t+=".Children"),t})}function A(e){return S(e,function(e){return e.name})}function M(e){var t,n="CROSSJOIN({";return e.length>2?(t=e.pop(),n+=M(e)):(n+=e.shift(),t=e.pop()),n+="},{",n+=t,n+="})"}function R(e,t){var n=e;return t.length>1&&n.push("{"+t.join(",")+"}"),M(n)}function N(e){var t,n=[];for(t=0;e.length>t;t++)e[t].expand&&n.push(e[t]);return n}function P(t,n){var i,r,a,o,s,l,d,c,u,p,h,f="";if(t=t||[],i=A(F(t)),r=N(t),i.length>1||n.length>1){if(f+=R(i,n),r.length)for(a=0,d=[],c=H(t),u=[],o=0;r.length>o;o++){for(s=a;r.length>s;s++)l=r[s].name,p=F(t),e.inArray(r[s],c)>-1&&(p=E(t,l)),h=R(z(p,d.concat(l)),n),-1==e.inArray(h,u)&&(f+=",",f+=h,u.push(h));a++,d.push(r[o].name),d.shift()}}else r.length&&(i=i.concat(I(t))),f+=i.join(",");return f}function O(e){var t,n,i="",r=e.filters;for(t=0;r.length>t;t++)"in"==r[t].operator?(i+="{",i+=r[t].value,i+="}"):(i+="Filter(",n=r[t].field,n+=".Children",i+=n,i+=tt.format(U[r[t].operator],r[t].field,r[t].value),i+=")"),r.length-1>t&&(i+=",");return i}function L(e,t,n){var i,r,a="";if(t){a+="<"+e+">";for(r in t)i=t[r],n&&(r=r.replace(/([A-Z]+(?=$|[A-Z][a-z])|[A-Z]?[a-z]+)/g,"$1_").toUpperCase().replace(/_$/,"")),a+="<"+r+">"+i+"</"+r+">";a+="</"+e+">"}else a+="<"+e+"/>";return a}function B(e){if(null==e)return[];var t=ot.call(e);return"[object Array]"!==t?[e]:e}function W(e){var t,n,i,r,a={tuples:[]},o=B(tt.getter("Tuples.Tuple",!0)(e)),s=tt.getter("Caption['#text']"),l=tt.getter("UName['#text']"),d=tt.getter("LName['#text']"),c=tt.getter("LNum['#text']"),u=tt.getter("CHILDREN_CARDINALITY['#text']",!0),p=tt.getter("['@Hierarchy']"),h=tt.getter("PARENT_UNIQUE_NAME['#text']",!0);for(t=0;o.length>t;t++){for(n=[],i=B(o[t].Member),r=0;i.length>r;r++)n.push({children:[],caption:s(i[r]),name:l(i[r]),levelName:d(i[r]),levelNum:c(i[r]),hasChildren:parseInt(u(i[r]),10)>0,parentName:h(i[r]),hierarchy:p(i[r])});a.tuples.push({members:n})}return a}function V(e,t){var n=e.members,i=t.members,r=i.length,a=0;if(n.length!==r)return!0;for(;r>a;a++)if(n[a].name!==i[a].name)return!0;return!1}var U,q,j,G,Y,$,Q,K,J,X,Z,et,tt=window.kendo,nt=tt.ui,it=tt.Class,rt=nt.Widget,at=tt.data.DataSource,ot={}.toString,st=function(e){return e},lt=e.map,dt=e.extend,ct=tt.isFunction,ut="change",pt="error",ht="progress",ft="<div/>",mt=".kendoPivotGrid",gt="dataBinding",vt="dataBound",_t="expandMember",kt="collapseMember",bt="k-i-arrow-s",wt="k-i-arrow-e",yt='<table class="k-pivot-layout"><tr><td><div class="k-pivot-rowheaders"></div></td><td><div class="k-pivot-table k-state-default"></div></td></tr></table>',xt=it.extend({init:function(e,t){this.transport=t,this.options=t.options||{},this.transport.discover||ct(e.discover)&&(this.discover=e.discover)},read:function(e){return this.transport.read(e)},update:function(e){return this.transport.update(e)},create:function(e){return this.transport.create(e)},destroy:function(e){return this.transport.destroy(e)},discover:function(e){return this.transport.discover?this.transport.discover(e):(e.success({}),t)},catalog:function(n){var i,r=this.options||{};return n===t?(r.connection||{}).catalog:(i=r.connection||{},i.catalog=n,this.options.connection=i,e.extend(this.transport.options,{connection:i}),t)},cube:function(e){var n,i=this.options||{};return e===t?(i.connection||{}).cube:(n=i.connection||{},n.cube=e,this.options.connection=n,dt(!0,this.transport.options,{connection:n}),t)}}),Ct=at.extend({init:function(e){var t,i;at.fn.init.call(this,dt(!0,{},{schema:{axes:st,cubes:st,catalogs:st,measures:st,dimensions:st,hierarchies:st,levels:st}},e)),this.transport=new xt(this.options.transport||{},this.transport),this._columns=n(this.options.columns),this._rows=n(this.options.rows),t=this.options.measures||[],i="columns",null!==this.options.measures&&"[object Object]"===ot.call(this.options.measures)&&(t=this.options.measures.values||[],i=this.options.measures.axis||"columns"),this._measures=t||[],this._measuresAxis=i,this._axes={}},options:{serverSorting:!0,serverPaging:!0,serverFiltering:!0,serverGrouping:!0,serverAggregates:!0},catalog:function(e){return e===t?this.transport.catalog():(this.transport.catalog(e),this._mergeState({}),this._axes={},this.data([]),t)},cube:function(e){return e===t?this.transport.cube():(this.transport.cube(e),this._axes={},this._mergeState({}),this.data([]),t)},axes:function(){return this._axes},columns:function(e){return e===t?this._columns:(this._clearAxesData=!0,this._columns=n(e),this.query({columns:e,rows:this.rowsAxisDescriptors(),measures:this.measures()}),t)},rows:function(e){return e===t?this._rows:(this._clearAxesData=!0,this._rows=n(e),this.query({columns:this.columnsAxisDescriptors(),rows:e,measures:this.measures()}),t)},measures:function(e){return e===t?this._measures:(this._clearAxesData=!0,this.query({columns:this.columnsAxisDescriptors(),rows:this.rowsAxisDescriptors(),measures:e}),t)},measuresAxis:function(){return this._measuresAxis||"columns"},_expandPath:function(e,t){var i,r,a="columns"===t?"columns":"rows",o="columns"===t?"rows":"columns",l=n(e),d=l[l.length-1].name;for(this._lastExpanded=a,l=s(this.axes()[a],l,this.measures()),i=0;l.length>i;i++)if(l[i].name===d){if(l[i].expand)return;l[i].expand=!0}else l[i].expand=!1;r={},r[a]=l,r[o]=this._descriptorsForAxis(o),this._query(r)},_descriptorsForAxis:function(e){var t=this.axes(),n=this[e]()||[];return t&&t[e]&&(n=r(t[e].tuples||[])),n},columnsAxisDescriptors:function(){return this._descriptorsForAxis("columns")},rowsAxisDescriptors:function(){return this._descriptorsForAxis("rows")},_process:function(e,t){this._view=e,t=t||{},t.items=t.items||this._view,this.trigger(ut,t)},_query:function(e){var t=this;e||(this._clearAxesData=!0),t.query(dt({},{page:t.page(),pageSize:t.pageSize(),sort:t.sort(),filter:t.filter(),group:t.group(),aggregate:t.aggregate(),columns:this.columnsAxisDescriptors(),rows:this.rowsAxisDescriptors(),measures:this.measures()},e))},query:function(e){this.read(this._mergeState(e))},_mergeState:function(e){return e=at.fn._mergeState.call(this,e),e!==t&&(this._measures=B(e.measures),e.columns?e.columns=n(e.columns):e.columns||(this._columns=[]),e.rows?e.rows=n(e.rows):e.rows||(this._rows=[])),e},filter:function(e){return e===t?this._filter:(this._clearAxesData=!0,this._query({filter:e,page:1}),t)},expandColumn:function(e){this._expandPath(e,"columns")},expandRow:function(e){this._expandPath(e,"rows")},_readData:function(e){var t,n,i,r,a,o=this.reader.axes(e),s=this.reader.data(e),u=this.columns().length,f=this.rows().length,m=o.columns&&o.columns.tuples;return u||!f||!m||!this._rowMeasures().length&&this.measures().length||(o={columns:{},rows:o.columns}),u||f||"rows"!==this.measuresAxis()||!m||(o={columns:{},rows:o.columns}),this._axes={columns:h(this._axes.columns),rows:h(this._axes.rows)},o={columns:h(o.columns),rows:h(o.rows)},s=this._normalizeData(s,o.columns.tuples.length,o.rows.tuples.length),"rows"==this._lastExpanded?(t=o.columns.tuples,i=this._columnMeasures(),n=l(o.columns,this._axes.columns,i),n&&(r="columns",o.columns=n,d(t,n.tuples,o.rows.tuples.length,i,s),s=this._normalizeData(s,p(o.columns.tuples,i),o.rows.tuples.length))):"columns"==this._lastExpanded&&(t=o.rows.tuples,i=this._rowMeasures(),n=l(o.rows,this._axes.rows,i),n&&(r="rows",o.rows=n,c(t,n.tuples,o.columns.tuples.length,i,s),s=this._normalizeData(s,p(o.rows.tuples,i),o.columns.tuples.length))),this._lastExpanded=null,a=this._mergeAxes(o,s,r),this._axes=a.axes,a.data},_mergeAxes:function(e,t,n){var i,r,a,o,s,l=this._columnMeasures(),d=this._rowMeasures(),c=this.axes(),u=e.rows.tuples.length,h=p(c.columns.tuples,l),g=e.columns.tuples.length;return"columns"==n?(g=h,r=e.columns.tuples):(r=y(e.columns.tuples,l),t=C(r,t)),a=m(c.columns.tuples,r,l),"rows"==n?(u=p(e.rows.tuples,d),r=e.rows.tuples):(r=y(e.rows.tuples,d),t=x(r,t)),o=m(c.rows.tuples,r,d),c.columns.tuples=a.tuples,c.rows.tuples=o.tuples,h!==p(c.columns.tuples,l)?(i=a.index+f(a.parsedRoot,a.memberIndex,l),s=h+g,t=this._mergeColumnData(t,i,u,g,s)):(i=o.index+f(o.parsedRoot,o.memberIndex,d),t=this._mergeRowData(t,i,u,g)),{axes:c,data:t}},_mergeColumnData:function(e,t,n,i,r){var a,o,s,l=this.data().toJSON(),d=0,c=Math.max(this._columnMeasures().length,1);for(n=Math.max(n,1),l.length>0&&(d=c,r-=c),a=0;n>a;a++)o=t+a*r,s=e.splice(0,i),s.splice(0,d),[].splice.apply(l,[o,0].concat(s));return l},_mergeRowData:function(e,t,n,i){var r,a,o,s=this.data().toJSON(),l=Math.max(this._rowMeasures().length,1);for(i=Math.max(i,1),s.length>0&&(n-=l,e.splice(0,i*l)),r=0;n>r;r++)o=e.splice(0,i),a=t*i+r*i,[].splice.apply(s,[a,0].concat(o));return s},_columnMeasures:function(){var e=this.measures(),t=[];return"columns"===this.measuresAxis()&&(0===this.columns().length?t=e:e.length>1&&(t=e)),t},_rowMeasures:function(){var e=this.measures(),t=[];return"rows"===this.measuresAxis()&&(0===this.rows().length?t=e:e.length>1&&(t=e)),t},_normalizeData:function(e,t,n){var i,r,a,o,s;if(!e.length)return e;if(o=(t||1)*(n||1),s=Array(o),e.length===o)return e;for(r=0,a=s.length;a>r;r++)s[r]={value:"",fmtValue:"",ordinal:r};for(r=0,a=e.length;a>r;r++)i=e[r],s[i.ordinal]=i;return s},discover:function(t,n){var i=this,r=i.transport;return e.Deferred(function(e){r.discover(dt({success:function(t){t=i.reader.parse(t),i._handleCustomErrors(t)||(n&&(t=n(t)),e.resolve(t))},error:function(t,n,r){e.reject(t),i.error(t,n,r)}},t))}).promise().done(function(){i.trigger("schemaChange")})},schemaMeasures:function(){var e=this;return e.discover({data:{command:"schemaMeasures",restrictions:{catalogName:e.transport.catalog(),cubeName:e.transport.cube()}}},function(t){return e.reader.measures(t)})},schemaDimensions:function(){var e=this;return e.discover({data:{command:"schemaDimensions",restrictions:{catalogName:e.transport.catalog(),cubeName:e.transport.cube()}}},function(t){return e.reader.dimensions(t)})},schemaHierarchies:function(e){var t=this;return t.discover({data:{command:"schemaHierarchies",restrictions:{catalogName:t.transport.catalog(),cubeName:t.transport.cube(),dimensionUniqueName:e}}},function(e){return t.reader.hierarchies(e)})},schemaLevels:function(e){var t=this;return t.discover({data:{command:"schemaLevels",restrictions:{catalogName:t.transport.catalog(),cubeName:t.transport.cube(),hierarchyUniqueName:e}}},function(e){return t.reader.levels(e)})},schemaCubes:function(){var e=this;return e.discover({data:{command:"schemaCubes",restrictions:{catalogName:e.transport.catalog()}}},function(t){return e.reader.cubes(t)})},schemaCatalogs:function(){var e=this;return e.discover({data:{command:"schemaCatalogs"}},function(t){return e.reader.catalogs(t)})},_params:function(e){this._clearAxesData&&(this._axes={},this._data=this._observe([]),this._clearAxesData=!1);var t=at.fn._params.call(this,e);return t=dt({measures:this.measures(),measuresAxis:this.measuresAxis(),columns:this.columns(),rows:this.rows()},t)}});Ct.create=function(e){e=e&&e.push?{data:e}:e;var t=e||{},n=t.data;if(t.data=n,!(t instanceof Ct)&&t instanceof tt.data.DataSource)throw Error("Incorrect DataSource type. Only PivotDataSource instances are supported");return t instanceof Ct?t:new Ct(t)},U={contains:', InStr({0}.MemberValue,"{1}")',startswith:', Left({0}.MemberValue,Len("{1}"))="{1}"',endswith:', Right({0}.MemberValue,Len("{1}"))="{1}"'},q={schemaCubes:"MDSCHEMA_CUBES",schemaCatalogs:"DBSCHEMA_CATALOGS",schemaMeasures:"MDSCHEMA_MEASURES",schemaDimensions:"MDSCHEMA_DIMENSIONS",schemaHierarchies:"MDSCHEMA_HIERARCHIES",schemaLevels:"MDSCHEMA_LEVELS"},j={read:function(e){var t,n,i,r,a='<Envelope xmlns="http://schemas.xmlsoap.org/soap/envelope/"><Header/><Body><Execute xmlns="urn:schemas-microsoft-com:xml-analysis"><Command><Statement>';return a+="SELECT NON EMPTY {",t=e.columns||[],n=e.rows||[],i=e.measures||[],r="rows"===e.measuresAxis,!t.length&&n.length&&(!i.length||i.length&&r)&&(t=n,n=[],r=!1),t.length||n.length||(r=!1),t.length?a+=P(t,r?[]:i):i.length&&!r&&(a+=i.join(",")),a+="} DIMENSION PROPERTIES CHILDREN_CARDINALITY, PARENT_UNIQUE_NAME ON COLUMNS",(n.length||r&&i.length>1)&&(a+=", NON EMPTY {",a+=n.length?P(n,r?i:[]):i.join(","),a+="} DIMENSION PROPERTIES CHILDREN_CARDINALITY, PARENT_UNIQUE_NAME ON ROWS"),e.filter?(a+=" FROM ",a+="(SELECT (",a+=O(e.filter),a+=") ON 0 FROM ["+e.connection.cube+"])"):a+=" FROM ["+e.connection.cube+"]",1==i.length&&t.length&&(a+=" WHERE ("+i.join(",")+")"),a+="</Statement></Command><Properties><PropertyList><Catalog>"+e.connection.catalog+"</Catalog><Format>Multidimensional</Format></PropertyList></Properties></Execute></Body></Envelope>",a.replace(/\&/g,"&amp;")},discover:function(t){t=t||{};var n='<Envelope xmlns="http://schemas.xmlsoap.org/soap/envelope/"><Header/><Body><Discover xmlns="urn:schemas-microsoft-com:xml-analysis">';return n+="<RequestType>"+(q[t.command]||t.command)+"</RequestType>",n+="<Restrictions>"+L("RestrictionList",t.restrictions,!0)+"</Restrictions>",t.connection&&t.connection.catalog&&(t.properties=e.extend({},{Catalog:t.connection.catalog},t.properties)),n+="<Properties>"+L("PropertyList",t.properties)+"</Properties>",n+="</Discover></Body></Envelope>"}},G=tt.data.RemoteTransport.extend({init:function(e){tt.data.RemoteTransport.call(this,e),ct(e.discover)?this.discover=e.discover:"string"==typeof e.discover?this.options.discover={url:e.discover}:e.discover||(this.options.discover=this.options.read)},setup:function(t,n){return t.data=t.data||{},e.extend(!0,t.data,{connection:this.options.connection}),tt.data.RemoteTransport.fn.setup.call(this,t,n)},options:{parameterMap:function(e,t){return j[t](e,t)}},discover:function(t){return e.ajax(this.setup(t,"discover"))}}),Y={cubes:{name:tt.getter("CUBE_NAME['#text']",!0),caption:tt.getter("CUBE_CAPTION['#text']",!0),description:tt.getter("DESCRIPTION['#text']",!0),type:tt.getter("CUBE_TYPE['#text']",!0)},catalogs:{name:tt.getter("CATALOG_NAME['#text']",!0),description:tt.getter("DESCRIPTION['#text']",!0)},measures:{name:tt.getter("MEASURE_NAME['#text']",!0),caption:tt.getter("MEASURE_CAPTION['#text']",!0),uniqueName:tt.getter("MEASURE_UNIQUE_NAME['#text']",!0),description:tt.getter("DESCRIPTION['#text']",!0),aggregator:tt.getter("MEASURE_AGGREGATOR['#text']",!0),groupName:tt.getter("MEASUREGROUP_NAME['#text']",!0),displayFolder:tt.getter("MEASURE_DISPLAY_FOLDER['#text']",!0),defaultFormat:tt.getter("DEFAULT_FORMAT_STRING['#text']",!0)},dimensions:{name:tt.getter("DIMENSION_NAME['#text']",!0),caption:tt.getter("DIMENSION_CAPTION['#text']",!0),description:tt.getter("DESCRIPTION['#text']",!0),uniqueName:tt.getter("DIMENSION_UNIQUE_NAME['#text']",!0),defaultHierarchy:tt.getter("DEFAULT_HIERARCHY['#text']",!0),type:tt.getter("DIMENSION_TYPE['#text']",!0)},hierarchies:{name:tt.getter("HIERARCHY_NAME['#text']",!0),caption:tt.getter("HIERARCHY_CAPTION['#text']",!0),description:tt.getter("DESCRIPTION['#text']",!0),uniqueName:tt.getter("HIERARCHY_UNIQUE_NAME['#text']",!0),dimensionUniqueName:tt.getter("DIMENSION_UNIQUE_NAME['#text']",!0),displayFolder:tt.getter("HIERARCHY_DISPLAY_FOLDER['#text']",!0),origin:tt.getter("HIERARCHY_ORIGIN['#text']",!0),defaultMember:tt.getter("DEFAULT_MEMBER['#text']",!0)},levels:{name:tt.getter("LEVEL_NAME['#text']",!0),caption:tt.getter("LEVEL_CAPTION['#text']",!0),description:tt.getter("DESCRIPTION['#text']",!0),uniqueName:tt.getter("LEVEL_UNIQUE_NAME['#text']",!0),dimensionUniqueName:tt.getter("DIMENSION_UNIQUE_NAME['#text']",!0),displayFolder:tt.getter("LEVEL_DISPLAY_FOLDER['#text']",!0),orderingProperty:tt.getter("LEVEL_ORDERING_PROPERTY['#text']",!0),origin:tt.getter("LEVEL_ORIGIN['#text']",!0),hierarchyUniqueName:tt.getter("HIERARCHY_UNIQUE_NAME['#text']",!0)}},$=tt.data.XmlDataReader.extend({parse:function(e){var t=tt.data.XmlDataReader.fn.parse(e.replace(/<(\/?)(\w|-)+:/g,"<$1"));return tt.getter("['Envelope']['Body']",!0)(t)},errors:function(e){var t=tt.getter("['Fault']",!0)(e);return t?[{faultstring:tt.getter("faultstring['#text']",!0)(t),faultcode:tt.getter("faultcode['#text']",!0)(t)}]:null},axes:function(e){var t,n,i;return e=tt.getter("ExecuteResponse.return.root",!0)(e),t=tt.getter("Axes.Axis",!0)(e),n=W(t[0]),i={},t.length>2&&(i=W(t[1])),{columns:n,rows:i}},data:function(e){var t,n,i,r,a,o;for(e=tt.getter("ExecuteResponse.return.root",!0)(e),t=B(tt.getter("CellData.Cell",!0)(e)),n=[],i=tt.getter("['@CellOrdinal']"),r=tt.getter("Value['#text']"),a=tt.getter("FmtValue['#text']"),o=0;t.length>o;o++)n.push({value:r(t[o]),fmtValue:a(t[o]),ordinal:parseInt(i(t[o]),10)});return n},_mapSchema:function(e,t){var n,i,r,a,o;for(e=tt.getter("DiscoverResponse.return.root",!0)(e),n=B(tt.getter("row",!0)(e)),i=[],r=0;n.length>r;r++){a={};for(o in t)a[o]=t[o](n[r]);i.push(a)}return i},measures:function(e){return this._mapSchema(e,Y.measures)},hierarchies:function(e){return this._mapSchema(e,Y.hierarchies)},levels:function(e){return this._mapSchema(e,Y.levels)},dimensions:function(e){return this._mapSchema(e,Y.dimensions)},cubes:function(e){return this._mapSchema(e,Y.cubes)},catalogs:function(e){return this._mapSchema(e,Y.catalogs)}}),dt(!0,tt.data,{PivotDataSource:Ct,XmlaTransport:G,XmlaDataReader:$,transports:{xmla:G},readers:{xmla:$}}),tt.ui.PivotSettingTarget=rt.extend({init:function(t,n){rt.fn.init.call(this,t,n),this.element.addClass("k-pivot-setting"),this.dataSource=tt.data.PivotDataSource.create(n.dataSource),this._refreshHandler=e.proxy(this.refresh,this),this.dataSource.first(ut,this._refreshHandler),n.template||(this.options.template="<div data-"+tt.ns+'name="${data.name || data}">${data.name || data}'+(this.options.enabled?'<a class="k-button k-button-icon k-button-bare"><span class="k-icon k-setting-delete"></span></a>':"")+"</div>"),this.template=tt.template(this.options.template),this.emptyTemplate=tt.template(this.options.emptyTemplate),this._sortable();var i=this;this.element.on("click"+mt,".k-setting-delete",function(){var t=e(this).closest("["+tt.attr("name")+"]").attr(tt.attr("name"));t&&i.remove(t)}),this.refresh()},options:{name:"PivotSettingTarget",template:null,emptyTemplate:"<div class='k-empty'>${data}</div>",setting:"columns",enabled:!0,messages:{empty:"Drop Fields Here"}},setDataSource:function(e){this.dataSource.unbind(ut,this._refreshHandler),this.dataSource=this.options.dataSource=e,e.first(ut,this._refreshHandler),this.refresh()},_sortable:function(){var e=this;e.options.enabled&&(this.sortable=this.element.kendoSortable({connectWith:this.options.connectWith,filter:">:not(.k-empty)",placeholder:function(e){return e.clone().hide()},cursor:"move",change:function(t){var n=t.item.attr(tt.attr("name"));"receive"==t.action?e.add(n):"remove"==t.action?e.remove(n):"sort"==t.action&&e.move(n,t.newIndex)}}).data("kendoSortable"))},_indexOf:function(e,t){var n,i,r=-1;for(n=0,i=t.length;i>n;n++)if(t[n].name===e||t[n]===e){r=n;break}return r},validate:function(e){var t,n,i=2==e.type||"aggregator"in e;return i?"measures"===this.options.setting:"measures"===this.options.setting?i:(t=this.dataSource[this.options.setting](),n=e.defaultHierarchy||e.uniqueName,this._indexOf(n,t)>-1?!1:(t=this.dataSource["columns"===this.options.setting?"rows":"columns"](),this._indexOf(n,t)>-1?!1:!0))},add:function(e){var t=this.dataSource[this.options.setting](),n=this._indexOf(e,t);-1==n&&(t.push(e),this.dataSource[this.options.setting](t))},move:function(e,t){var n=this.dataSource[this.options.setting](),i=this._indexOf(e,n);i>-1&&(n.splice(i,1),n.splice(t,0,e),this.dataSource[this.options.setting](n))},remove:function(e){var t=this.dataSource[this.options.setting](),n=this._indexOf(e,t);n>-1&&(t.splice(n,1),this.dataSource[this.options.setting](t))},refresh:function(){var e=this.dataSource[this.options.setting](),t=this.emptyTemplate(this.options.messages.empty);e.length&&(t=tt.render(this.template,e)),this.element.html(t)},destroy:function(){rt.fn.destroy.call(this),this.dataSource.unbind(ut,this._refreshHandler),this.element.off(mt),this.element=null,this._refreshHandler=null}}),Q=rt.extend({init:function(n,i){var r,a,o=this;rt.fn.init.call(o,n,i),o._dataSource(),o._bindConfigurator(),o._wrapper(),o._createLayout(),o._columnBuilder=r=new X,o._rowBuilder=a=new Z,o._contentBuilder=new et,o.columnsHeader.add(o.rowsHeader).on("click","span.k-icon",function(){var n,i,s,l,d=e(this),c=r,u="expandColumn",p=d.attr(tt.attr("path")),h={axis:"columns",path:e.parseJSON(p)};d.parent().is("td")&&(c=a,u="expandRow",h.axis="rows"),i=d.hasClass(bt),s=c.metadata[p],l=s.expanded===t,n=i?kt:_t,o.trigger(n,h)||(c.metadata[p].expanded=!i,d.toggleClass(bt,!i).toggleClass(wt,i),!i&&l?o.dataSource[u](h.path):o.refresh())}),o.content.scroll(function(){o.columnsHeader[0].scrollLeft=this.scrollLeft,o.rowsHeader[0].scrollTop=this.scrollTop}),o.options.autoBind&&o.dataSource.fetch(),tt.notify(o)},events:[gt,vt,_t,kt],options:{name:"PivotGrid",autoBind:!0,reorderable:!0,height:null,configurator:"",messages:{measureFields:"Drop Data Fields Here",columnFields:"Drop Column Fields Here",rowFields:"Drop Rows Fields Here"}},_bindConfigurator:function(){var t=this.options.configurator;t&&e(t).kendoPivotConfigurator("setDataSource",this.dataSource)},setDataSource:function(e){this.options.dataSource=e,this._dataSource(),this.measuresTarget&&this.measuresTarget.setDataSource(e),this.rowsTarget&&this.rowsTarget.setDataSource(e),this.columnsTarget&&this.columnsTarget.setDataSource(e),this._bindConfigurator(),this.options.autoBind&&e.fetch()},_dataSource:function(){var t=this,n=t.options.dataSource;n=e.isArray(n)?{data:n}:n,t.dataSource&&this._refreshHandler?t.dataSource.unbind(ut,t._refreshHandler).unbind(ht,t._progressHandler).unbind(pt,t._errorHandler):(t._refreshHandler=e.proxy(t.refresh,t),t._progressHandler=e.proxy(t._requestStart,t),t._errorHandler=e.proxy(t._error,t)),t.dataSource=tt.data.PivotDataSource.create(n).bind(ut,t._refreshHandler).bind(ht,t._progressHandler).bind(pt,t._errorHandler)},_error:function(){this._progress(!1)},_requestStart:function(){this._progress(!0)},_wrapper:function(){this.wrapper=this.element.addClass("k-widget k-pivot")},_measureFields:function(){this.measureFields=e(ft).addClass("k-pivot-toolbar k-header k-settings-measures"),this.measuresTarget=this._createSettingTarget(this.measureFields,{setting:"measures",messages:{empty:this.options.messages.measureFields}})},_columnFields:function(){this.columnFields=e(ft).addClass("k-pivot-toolbar k-header k-settings-columns")},_createSettingTarget:function(t,n){var i='<span class="k-button" data-'+tt.ns+'name="${data.name || data}">${data.name || data}';return this.options.reorderable&&(i+='<span class="k-icon k-si-close k-setting-delete"></span>'),i+="</span>",new tt.ui.PivotSettingTarget(t,e.extend({template:i,emptyTemplate:'<span class="k-empty">${data}</span>',enabled:this.options.reorderable,dataSource:this.dataSource},n))},_initSettingTargets:function(){this.columnsTarget=this._createSettingTarget(this.columnFields,{connectWith:this.rowFields,setting:"columns",messages:{empty:this.options.messages.columnFields}}),this.rowsTarget=this._createSettingTarget(this.rowFields,{connectWith:this.columnFields,setting:"rows",messages:{empty:this.options.messages.rowFields}})},_rowFields:function(){this.rowFields=e(ft).addClass("k-pivot-toolbar k-header k-settings-rows")},_columnsHeader:function(){this.columnsHeader=e('<div class="k-grid-header-wrap" />').wrap('<div class="k-grid-header" />')},_rowsHeader:function(){this.rowsHeader=e('<div class="k-grid k-widget k-alt"/>')},_contentTable:function(){this.content=e('<div class="k-grid-content" />')},_createLayout:function(){var t=this,n=e(yt),i=n.find(".k-pivot-rowheaders"),r=n.find(".k-pivot-table"),a=e(ft).addClass("k-grid k-widget");t._measureFields(),t._columnFields(),t._rowFields(),t._columnsHeader(),t._rowsHeader(),t._contentTable(),i.append(t.measureFields),i.append(t.rowFields),i.append(t.rowsHeader),a.append(t.columnsHeader.parent()),a.append(t.content),r.append(t.columnFields),r.append(a),t.wrapper.append(n),t.columnsHeaderTree=new tt.dom.Tree(t.columnsHeader[0]),t.rowsHeaderTree=new tt.dom.Tree(t.rowsHeader[0]),t.contentTree=new tt.dom.Tree(t.content[0]),t._initSettingTargets()},_progress:function(e){tt.ui.progress(this.wrapper,e)},_resize:function(){var e,t,n,i,r,a,o,s,l,d,c=this.columnFields.height("100%").height(),u=this.measureFields.height("100%").height();e=c>u?c:u,this.measureFields.height(e),this.columnFields.height(e),t=this.columnsHeader.height("100%").innerHeight(),n=this.rowFields.height("100%").innerHeight(),i=n-this.rowFields.height(),e=t>n?t:n,this.rowFields.height(e-i),this.columnsHeader.height(e),r=this.content.children("table"),a=this.content.width(),o=r[0].rows[0],s=o?o.children.length:1,l=100*s,d=100,l>a&&(d=Math.ceil(l/a*100)),r.add(this.columnsHeader.children("table")).css("min-width",d+"%"),this._setContentHeight(d)},_setContentHeight:function(e){var n=this,i=n.content,r=n.rowsHeader,a=n.options.height,o=tt.support.scrollbar();if(n.wrapper.is(":visible")){if(!a)return 100>=e&&(o=0),r.height(i.height()-o),t;a-=n.columnFields.outerHeight(),a-=n.columnsHeader.outerHeight(),2*o>=a&&(a=2*o+1),i.height(a),r.height(a-o)}},refresh:function(){var e=this,t=e.dataSource,n=t.axes(),i=(n.columns||{}).tuples||[],r=(n.rows||{}).tuples||[],a=e._columnBuilder,o=e._rowBuilder,s={},l={};e.trigger(gt,{action:"rebind"})||(a.reset(i[0]),o.reset(r[0]),e.columnsHeaderTree.render(a.build(i)),e.rowsHeaderTree.render(o.build(r)),s={measures:t._columnMeasures().length||1,indexes:a._indexes,metadata:a.metadata},l={measures:t._rowMeasures().length||1,indexes:o._indexes,metadata:o.metadata},e.contentTree.render(e._contentBuilder.build(t.view(),s,l)),e._resize(),e._progress(!1),e.trigger(vt))}}),K=tt.dom.element,J=tt.dom.text,X=it.extend({init:function(){this.metadata={}},build:function(e){return[K("table",null,[this._thead(e)])]},reset:function(e){var t=this.rootTuple;(!e||t&&V(t,e))&&(this.metadata={})},_thead:function(e){var t=e[0];return this.map={},this.rows=[],this.rootTuple=t,this._indexes=[],t?(this._buildRows(t,0),this._normalizeRows()):this.rows.push(K("tr",null,[K("th",null)])),K("thead",null,this.rows)},_memberIdx:function(e,t){for(var n=0,i=e[n];i&&i.parentName!==t.name;)n+=1,i=e[n];return i?n:n-1},_normalizeRows:function(){this._normalizeRowSpan(),this._normalizeColSpan()},_normalizeRowSpan:function(){for(var e,t,n,i,r,a=this.rows,o=a.length,s=0,l=tt.attr("tuple-all");o>s;s++)if(e=a[s],1!==e.rowspan)for(i=e.children,n=0,t=i.length;t>n;n++)r=i[n],r.attr[l]&&(r.attr.rowspan=e.rowspan)},_normalizeColSpan:function(){var e,t,n,i=this.rootTuple.members,r=i.length-1,a=i[r];if(!a.measure||(a=i[--r]))for(e=this.map,t=e[a.name+a.levelNum],n=this._rootRowColSpan(t);r;)r-=1,a=i[r],t=e[a.name+a.levelNum],n>1&&(t.children[t.children.length-1].attr.colspan=n),n=this._rootRowColSpan(t)
},_rootRowColSpan:function(e){var t=e.children,n=t.length-1,i=t[n],r=i.attr.colspan||1;return i.attr.rowspan>1&&(r+=t[n-1].attr.colspan),r},_rowIndex:function(e){for(var t=this.rows,n=t.length,i=0;n>i&&t[i]!==e;i++);return i},_row:function(e,t,n){var i,r,a=this.rootTuple.members[t].name,o=e.members[t].levelNum,s=a+o,l=this.map,d=l[s];return d?d.notFirst=!1:(d=K("tr",null,[]),d.parentMember=n,d.colspan=0,d.rowspan=1,l[s]=d,i=l[a+(+o-1)],i&&(r=i.children,d.notFirst=r[1]&&-1===r[1].attr.className.indexOf("k-alt")?!0:i.notFirst),this.rows.splice(this._rowIndex(i)+1,0,d)),d.parentMember&&d.parentMember===n||(d.parentMember=n,d.colspan=0),d},_tuplePath:function(e,t){for(var n=[],i=0;t>=i;i++)n.push(e.members[i].name);return n},_measures:function(e){var t,n,i,r=this.map,a=r.measureRow;for(a||(a=K("tr",null,[]),r.measureRow=a,this.rows.push(a)),n=0,i=e.length;i>n;n++)t=e[n],a.children.push(K("th",{className:"k-header"},[J(t.caption||t.name)]));return i},_buildRows:function(e,n,i){var r,a,o,s,l,d,c,u,p,h,f,m,g=e.members,v=[],_=0;if(i&&(n=this._memberIdx(g,i)),o=g[n],o.measure)return this._measures(o.children),t;if(s=this._row(e,n,i),r=o.children,h=r.length,p=tt.stringify(this._tuplePath(e,n)),m=this.metadata[p],this._indexes.push(p),m||(m={maxChildren:0,children:0,maxMembers:0,members:0,measures:1,levelNum:+o.levelNum,parentMember:0!==n},this.metadata[p]=m),o.hasChildren&&(m.expanded===!1&&(h=0,m.children=0),u={className:"k-icon "+(h?bt:wt)},u[tt.attr("path")]=p,v.push(K("span",u))),v.push(J(o.caption||o.name)),c=K("th",{className:"k-header"+(s.notFirst?" k-first":"")},v),s.children.push(c),s.colspan+=1,l=g[n+1],h){for(d=K("th",{className:"k-header k-alt"},[J(o.caption||o.name)]),s.children.push(d);h>_;_++)a=this._buildRows(r[_],0,o);f=a.colspan,c.attr.colspan=f,m.children=f,m.members=1,s.colspan+=f,s.rowspan=a.rowspan+1,l&&(f=l.measure?this._measures(l.children):this._buildRows(e,n+1).colspan,d.attr.colspan=f,f-=1,m.members+=f,s.colspan+=f)}else l&&(f=l.measure?this._measures(l.children):this._buildRows(e,n+1).colspan,m.members=f,f>1&&(c.attr.colspan=f,s.colspan+=f-1));return m.children>m.maxChildren&&(m.maxChildren=m.children),m.members>m.maxMembers&&(m.maxMembers=m.members),(d||c).attr[tt.attr("tuple-all")]=!0,s}}),Z=it.extend({init:function(){this.metadata={}},build:function(e){return[K("table",null,[this._tbody(e)])]},reset:function(e){var t=this.rootTuple;(!e||t&&V(t,e))&&(this.metadata={})},_tbody:function(e){var t=e[0];return this.rootTuple=t,this.rows=[],this.map={},this._indexes=[],t?(this._buildRows(t,0),this._normalize()):this.rows.push(K("tr",null,[K("td",null)])),K("tbody",null,this.rows)},_normalize:function(){for(var e,t,n,i,r=this.rows,a=r.length,o=0,s=this.rootTuple.members,l=s[0].name,d=s.length,c=0,u=this.map;a>o;o++)for(e=r[o],c=0;d>c;c++)n=this[s[c].name],t=e.colspan["dim"+c],t&&n>t.levelNum&&(t.attr.colspan=n-t.levelNum+1);e=u[l],i=u[l+"all"],e&&(e.children[0].attr.className="k-first"),i&&(i.children[0].attr.className="k-first")},_tuplePath:function(e,t){for(var n=[],i=0;t>=i;i++)n.push(e.members[i].name);return n},_row:function(e,t){var n=K("tr",e,t);return n.rowspan=1,n.colspan={},this.rows.push(n),n},_text:function(e){return J(e.caption||e.name)},_buildRows:function(e,t){var n,i,r,a,o,s,l,d,c=this.map,u=e.members,p=u[t],h=u[t+1],f=p.children,m=f.length,g=+p.levelNum+1,v=this.rootTuple.members[t].name,_=this._tuplePath(e,t-1).join(""),k=_+(p.parentName||""),b=c[k+"all"]||c[k],w=[];if(!b||b.hasChild?b=this._row():b.hasChild=!0,p.measure){for(b.children.push(K("td",null,[this._text(f[0])])),b.rowspan=m,d=1;m>d;d++)this._row(b.attr,[K("td",null,[this._text(f[d])])]);return b}if(c[_+p.name]=b,n=tt.stringify(this._tuplePath(e,t)),a=this.metadata[n],this._indexes.push(n),a||(a={maxChildren:0,children:0,maxMembers:0,members:0,measures:1,levelNum:g-1,parentMember:0!==t},this.metadata[n]=a),p.hasChildren&&(a.expanded===!1&&(m=0,a.children=0),o={className:"k-icon "+(m?bt:wt)},o[tt.attr("path")]=n,w.push(K("span",o))),w.push(this._text(p)),l=K("td",null,w),l.levelNum=g,b.children.push(l),b.colspan["dim"+t]=l,(!this[v]||g>this[v])&&(this[v]=g),m){for(b.hasChild=!1,d=0;m>d;d++)i=this._buildRows(f[d],t),b!==i&&(b.rowspan+=i.rowspan);b.rowspan>1&&(l.attr.rowspan=b.rowspan),a.children=b.rowspan,s=K("td",null,[this._text(p)]),s.levelNum=g,r=this._row({className:"k-grid-footer"},[s]),r.colspan["dim"+t]=s,c[_+p.name+"all"]=r,h&&(i=this._buildRows(e,t+1),s.attr.rowspan=i.rowspan),b.rowspan+=r.rowspan,a.members=r.rowspan}else h&&(b.hasChild=!1,this._buildRows(e,t+1),(s||l).attr.rowspan=b.rowspan,a.members=b.rowspan);return a.children>a.maxChildren&&(a.maxChildren=a.children),a.members>a.maxMembers&&(a.maxMembers=a.members),b}}),et=it.extend({init:function(){this.columnAxis={},this.rowAxis={}},build:function(e,t,n){return this.columnAxis=t,this.rowAxis=n,[K("table",null,[this._tbody(e)])]},_tbody:function(e){var t,n=this.columnAxis,i=e[0];return this.rows=[],t=n.metadata[n.indexes[0]],this.rowIdx=0,this.rowLength=t?t.maxChildren+t.maxMembers:n.measures,this.rowLength||(this.rowLength=1),i?(this.columnIndexes=this._indexes(this.columnAxis),this.rowIndexes=this._indexes(this.rowAxis),this._buildRows(e)):this.rows.push(K("tr",null,[K("td",null,[J(i?i.value:"")])])),K("tbody",null,this.rows)},_indexes:function(e){var n,i,r,a,o=[],s=e.indexes,l=e.measures,d=e.metadata,c=0,u=0,p=0,h=s.length;if(!h){for(i=0;l>i;i++)o[i]=i;return o}for(;h>p;p++){if(n=d[s[p]],r=n.children+n.members,a=0,r&&(r-=l),n.expanded===!1&&n.children!==n.maxChildren&&(a=n.maxChildren),n.parentMember&&0===n.levelNum&&(r=-1),r>-1){for(i=0;l>i;i++)o[r+u+i]=c,c+=1;for(;o[u]!==t;)u+=1}c+=a}return o},_buildRows:function(e){for(var t,n=this.rowIndexes,i=this.rowLength,r=n.length,a=0;r>a;a++)t=n[a],this.rows.push(this._buildRow(e,t*i))},_buildRow:function(e,t){for(var n,i,r=[],a=this.columnIndexes,o=a.length,s=0;o>s;s++)n=e[t+a[s]],i=n?n.fmtValue||n.value:"",r.push(K("td",null,[J(i)]));return K("tr",null,r)}}),nt.plugin(Q)}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(e,t){t()});
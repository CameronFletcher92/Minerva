/*
* Kendo UI Beta v2014.2.625 (http://www.telerik.com/kendo-ui)
* Copyright 2014 Telerik AD. All rights reserved.
*
* Kendo UI Beta license terms available at
* http://www.telerik.com/purchase/license-agreement/kendo-ui-beta.aspx
*/

!function(e,define){define(["./kendo.core.min"],e)}(function(){return function(e,t){function n(n,i){var r=e(i?"<button></button>":"<a></a>");return r.data({type:"button"}),n.togglable&&(r.addClass(g),n.selected&&r.addClass(b)),n.enable===!1&&r.addClass(w),n.url===t||i||(r.attr("href",n.url),n.mobile&&r.attr(d.attr("role"),"button")),n.group&&r.attr(d.attr("group"),n.group),!n.togglable&&n.click&&p(n.click)&&r.data("click",n.click),n.togglable&&n.toggle&&p(n.toggle)&&r.data("toggle",n.toggle),r}function i(e){var t,n=j.button.base(e);return n.addClass(h),e.primary&&n.addClass(x),e.align&&n.addClass("k-align-"+e.align),e.id&&n.attr("id",e.id),"overflow"!=e.showText&&e.text&&(e.mobile?n.html('<span class="km-text">'+e.text+"</span>"):n.text(e.text)),t="overflow"!=e.showIcon&&(e.icon||e.spriteCssClass||e.imageUrl),t&&o(e,n),n}function r(e){var t,n=j.button.base(e);return n.addClass(m+" "+h),e.primary&&n.addClass(x),e.id&&n.attr("id",e.id+"_overflow"),"toolbar"!=e.showText&&e.text&&(e.mobile?n.html('<span class="km-text">'+e.text+"</span>"):n.text(e.text)),t="toolbar"!=e.showIcon&&(e.icon||e.spriteCssClass||e.imageUrl),t&&o(e,n),n}function o(t,n){var i,r,o,a=t.icon,s=t.spriteCssClass,l=t.imageUrl;(s||l||a)&&(i=!0,n.contents().not("span.k-sprite,span."+T+",img.k-image").each(function(t,n){(1==n.nodeType||3==n.nodeType&&e.trim(n.nodeValue).length>0)&&(i=!1)}),n.addClass(i?F:D)),a?(r=n.children("span."+T).first(),r[0]||(r=e('<span class="'+T+'"></span>').prependTo(n)),r.addClass(S+a)):s?(r=n.children("span.k-sprite").first(),r[0]||(r=e('<span class="k-sprite"></span>').prependTo(n)),r.addClass(s)):l&&(o=n.children("img.k-image").first(),o[0]||(o=e('<img alt="icon" class="k-image" />').prependTo(n)),o.attr("src",l))}function a(){var e,t=this.options.anchor,n=t.outerWidth();d.wrap(this.element).addClass("k-split-wrapper"),e="border-box"!==this.element.css("box-sizing")?n-(this.element.outerWidth()-this.element.width()):n,this.element.css({fontFamily:t.css("font-family"),"min-width":e})}function s(e){e.target.is(".k-toggle-button")||e.target.toggleClass(b,"press"==e.type)}function l(t){return e(t).addClass("km-widget km-actionsheet").wrap('<div class="km-actionsheet-wrapper km-actionsheet-tablet km-widget km-popup"></div>').parent().wrap('<div class="km-popup-wrapper k-popup"></div>').parent()}var d=window.kendo,c=d.ui.Widget,u=e.proxy,p=d.isFunction,f="k-toolbar",h="k-button",m="k-overflow-button",g="k-toggle-button",v="k-button-group",_="k-split-button",k="k-toolbar-resizable",b="k-state-active",w="k-state-disabled",y="k-group-start",C="k-group-end",x="k-primary",T="k-icon",S="k-i-",F="k-button-icon",D="k-button-icontext",E="k-list-container k-split-container",A="k-split-button-arrow",H="k-overflow-anchor",I="k-overflow-container",M="k-toolbar-first-visible",z="k-toolbar-last-visible",R="click",N="toggle",O="open",P="close",L="overflowOpen",B="overflowClose",W="never",U="auto",V="always",q="k-overflow-hidden",j={button:{base:n,toolbar:i,overflow:r},buttonGroup:{base:function(t,n,i){var r,o,a=t.buttons;for(i.data({type:"buttonGroup"}),o=0;a.length>o;o++)r=n(e.extend({mobile:t.mobile},a[o])),r.appendTo(i);i.children().first().addClass(y),i.children().last().addClass(C)},toolbar:function(t){var n=e('<div class="'+v+'"></div>');return j.buttonGroup.base(t,j.button.toolbar,n),t.align&&n.addClass("k-align-"+t.align),t.id&&n.attr("id",t.id),n},overflow:function(t){var n=e('<li class="'+(t.mobile?"":v)+' k-overflow-group"></li>');return j.buttonGroup.base(t,j.button.overflow,n),t.id&&n.attr("id",t.id+"_overflow"),n}},splitButton:{toolbar:function(t){var n,i,r,o=e('<div class="'+_+'"></div>'),s=j.button.toolbar(t),c=e('<a class="'+h+" "+A+'"><span class="'+(t.mobile?"km-icon km-arrowdown":"k-icon k-i-arrow-s")+'"></span></a>'),u=e('<ul class="'+E+'"></ul>'),p=t.menuButtons;for(s.appendTo(o),c.appendTo(o),u.appendTo(o),r=0;p.length>r;r++)i=j.button.toolbar(e.extend({mobile:t.mobile,click:t.click},p[r])),i.wrap("<li></li>").parent().appendTo(u);return t.align&&o.addClass("k-align-"+t.align),t.id||(t.id=t.uid),o.attr("id",t.id),u.attr("id",t.id+"_optionlist").attr(d.attr("uid"),t.rootUid),t.mobile&&(u=l(u)),n=u.kendoPopup({anchor:o,animation:t.animation,open:a}).data("kendoPopup"),o.data({type:"splitButton",kendoPopup:n}),o},overflow:function(t){var n,i,r=e('<li class="'+_+'"></li>'),o=j.button.overflow(t),a=t.menuButtons;for(o.appendTo(r),i=0;a.length>i;i++)n=j.button.overflow(e.extend({mobile:t.mobile},a[i])),n.appendTo(r);return t.id&&r.attr("id",t.id+"_overflow"),r.data({type:"splitButton"}),r}},separator:{toolbar:function(){var t=e('<div class="k-separator">&nbsp;</div>');return t.data({type:"separator"}),t},overflow:function(){var t=e('<li class="k-separator">&nbsp;</li>');return t.data({type:"separator"}),t}},overflowAnchor:'<div class="k-overflow-anchor k-button km-button"></div>',overflowContainer:'<ul class="k-overflow-container k-list-container"></ul>'},G=c.extend({init:function(e,t){var n,i=this;if(c.fn.init.call(i,e,t),t=i.options,e=i.wrapper=i.element,e.addClass(f+" k-widget"),this.uid=d.guid(),e.attr(d.attr("uid"),this.uid),i.isMobile=!!i.element.closest(".km-root")[0],i.animation=i.isMobile?{open:{effects:"fade"}}:{},i.isMobile&&(e.addClass("km-widget"),T="km-icon",S="km-",h="km-button",v="km-buttongroup km-widget",b="km-state-active",w="km-state-disabled"),t.resizable&&(i._renderOverflow(),e.addClass(k),i.overflowUserEvents=new d.UserEvents(i.element,{threshold:5,filter:"."+H,tap:u(i._toggleOverflow,i)}),d.onResize(function(){i.resize()})),t.items&&t.items.length)for(n=0;t.items.length>n;n++)i.add(t.items[n]);i.userEvents=new d.UserEvents(document,{threshold:5,filter:"["+d.attr("uid")+"="+this.uid+"] ."+h+":not(."+H+"), ["+d.attr("uid")+"="+this.uid+"] ."+m,tap:u(i._buttonClick,i),press:s,release:s}),t.resizable&&this._toggleOverflowAnchor(),d.notify(i)},events:[R,N,O,P,L,B],options:{name:"ToolBar",items:[],resizable:!0},destroy:function(){var t=this;t.element.find("."+_).each(function(t,n){e(n).data("kendoPopup").destroy()}),t.userEvents.destroy(),t.options.resizable&&(t.overflowUserEvents.destroy(),t.popup.destroy()),c.fn.destroy.call(t)},add:function(t){var n,i,r,o=j[t.type],a=t.template,s=this,l=s.isMobile?"":"k-item k-state-default",c=t.overflowTemplate;e.extend(t,{uid:d.guid(),animation:s.animation,mobile:s.isMobile,rootUid:s.uid}),a&&!c&&(t.overflow=W),t.overflow!==W&&s.options.resizable&&(c?i=e(p(c)?c(t):c):o&&(i=(o.overflow||e.noop)(t)),i&&i.length&&("LI"!==i.prop("tagName")&&(i=i.wrap("<li></li>").parent()),s._attributes(i,t),i.addClass(l).appendTo(s.popup.container),i.data("overflow")===U&&i.addClass(q))),t.overflow!==V&&(a?(n=p(a)?a(t):a,n instanceof jQuery||(n=e(n.replace(/^\s+|\s+$/g,"")))):o&&(n=(o.toolbar||e.noop)(t)),n&&n.length&&(s._attributes(n,t),n.appendTo(s.element).css("visibility","hidden"),r=s.element.innerWidth(),s._shrink(r),n.css("visibility","visible")))},remove:function(t){var n=e(t),i=n.data("type"),r=n.attr(d.attr("uid"));"splitButton"===i&&n.data("kendoPopup").destroy(),e("["+d.attr("uid")+"='"+r+"']").remove()},enable:function(n,i){var r=e(n).attr(d.attr("uid"));t===i&&(i=!0),i?e("["+d.attr("uid")+"='"+r+"']").removeClass(w):e("["+d.attr("uid")+"='"+r+"']").addClass(w)},getSelectedFromGroup:function(e){return this.element.find("."+g+"[data-group='"+e+"']").filter("."+b)},_attributes:function(e,t){e.attr(d.attr("uid"),t.uid),e.attr(d.attr("overflow"),t.overflow||U)},_renderOverflow:function(){var t=this;t.overflowAnchor=e(j.overflowAnchor),t.element.append(t.overflowAnchor),t.isMobile?(t.overflowAnchor.append('<span class="km-icon km-more"></span>'),j.overflowContainer=l(j.overflowContainer)):t.overflowAnchor.append('<span class="k-icon k-i-more"></span>'),t.popup=new d.ui.Popup(j.overflowContainer,{origin:"bottom right",position:"top right",anchor:t.overflowAnchor,animation:t.animation,copyAnchorStyles:!1,open:function(n){var i=d.wrap(t.popup.element).addClass("k-overflow-wrapper");t.isMobile?t.popup.container.css("max-height",parseFloat(e(".km-content:visible").innerHeight())-15+"px"):i.css("margin-left",(i.outerWidth()-i.width())/2+1),t.trigger(L)&&n.preventDefault()},close:function(e){t.trigger(B)&&e.preventDefault()}}),t.popup.container=t.isMobile?t.popup.element.find("."+I):t.popup.element,t.popup.container.attr(d.attr("uid"),this.uid)},_toggleOverflowAnchor:function(){this.overflowAnchor.css(this.popup.element.children(":not(."+q+")").length>0?{visibility:"visible",width:""}:{visibility:"hidden",width:"1px"})},_buttonClick:function(n){var i,r,o,a,s,l,c,u,f,v=this;if(n.preventDefault(),r=e(n.target).closest("."+h,v.element),!r.length&&v.popup&&(r=e(n.target).closest("."+m,v.popup.container)),a=r.hasClass(w),!a){if(n.target.closest("."+A).length)return v._toggle(n),t;r.hasClass(g)?(l=r.data("group"),u=p(r.data("toggle"))?r.data("toggle"):null,l&&(c=e("["+d.attr("uid")+"='"+v.uid+"']").find("."+g+"[data-group='"+l+"']").filter("."+b),c.removeClass(b)),r.toggleClass(b),s=r.hasClass(b),f={target:r,group:l,checked:s,id:r.attr("id")},u&&u.call(v,f),v.trigger(N,f)):(u=p(r.data("click"))?r.data("click"):null,f={target:r,id:r.attr("id")},u&&u.call(v,f),v.trigger(R,f)),r.hasClass(m)&&v.popup.close(),o=r.closest(".k-split-container"),o[0]&&(i=o.data("kendoPopup"),(i?i:o.parents(".km-popup-wrapper").data("kendoPopup")).close())}},_toggle:function(t){var n,i=e(t.target).closest("."+_),r=i.data("kendoPopup");t.preventDefault(),n=r.element.is(":visible")?this.trigger(P,{target:i}):this.trigger(O,{target:i}),n||r.toggle()},_toggleOverflow:function(){this.popup.toggle()},_resize:function(e){var t=e.width;this.popup.close(),this._shrink(t),this._stretch(t),this._markVisibles(),this._toggleOverflowAnchor()},_childrenWidth:function(){var t=0;return this.element.children(":visible").each(function(){t+=e(this).outerWidth(!0)}),Math.ceil(t)},_shrink:function(e){var t,n,i;if(e<this._childrenWidth())for(n=this.element.children(":visible:not([data-overflow='never'], ."+H+")"),i=n.length-1;i>=0&&(t=n.eq(i),!(e>this._childrenWidth()));i--)this._hideItem(t)},_stretch:function(e){var t,n,i;if(e>this._childrenWidth())for(n=this.element.children(":hidden"),i=0;n.length>i&&(t=n.eq(i),!(e<this._childrenWidth())&&this._showItem(t,e));i++);},_hideItem:function(e){e.hide(),this.popup&&this.popup.container.find(">li[data-uid='"+e.data("uid")+"']").removeClass(q)},_showItem:function(e,t){return e.length&&t>this._childrenWidth()+e.outerWidth(!0)?(e.show(),this.popup&&this.popup.container.find(">li[data-uid='"+e.data("uid")+"']").addClass(q),!0):!1},_markVisibles:function(){var e=this.popup.container.children(),t=this.element.children(":not(.k-overflow-anchor)"),n=e.filter(":not(.k-overflow-hidden)"),i=t.filter(":visible");e.add(t).removeClass(M+" "+z),n.first().add(i.first()).addClass(M),n.last().add(i.last()).addClass(z)}});d.ui.plugin(G)}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(e,t){t()});